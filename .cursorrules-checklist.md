# Pre-Code Checklist

**Use this checklist BEFORE writing any code. Quality requires thoroughness.**

---

## Before Starting Any Task

### Understanding
- [ ] I understand what problem I'm solving
- [ ] I've read the user's request completely
- [ ] I've checked all referenced files
- [ ] I understand the context and scope

### Codebase Search
- [ ] Searched for similar functionality using `codebase_search`
- [ ] Searched for exact patterns using `grep`
- [ ] Checked for existing utilities in shared locations
- [ ] Reviewed similar files for patterns
- [ ] Found existing code I can reuse (if applicable)

### File Structure Check (CRITICAL)
- [ ] Read the target file completely
- [ ] Noted the region structure (#region order)
- [ ] Noted where main override methods are placed
- [ ] Noted where helper methods are placed
- [ ] Noted spacing/indentation style
- [ ] Noted comment style
- [ ] Noted method grouping pattern
- [ ] Will match ALL of these exactly

### Planning
- [ ] Identified minimal changes needed
- [ ] Identified what can be reused
- [ ] Identified what should be extracted to shared
- [ ] Identified edge cases
- [ ] Created approach proposal (for non-trivial changes)
- [ ] Got approval (if required)

---

## Before Submitting Code (MANDATORY SELF-REVIEW)

### Requirement Validation
- [ ] Does this solve what was actually asked? (Re-read original request)
- [ ] Did I understand the context correctly? (Check assumptions)
- [ ] Is the solution complete? (All parts addressed)
- [ ] Are there any gaps? (Missing edge cases, incomplete implementation)

### Code Quality
- [ ] **Function size:** No function > 50 lines (if larger, should be split)
- [ ] **Componentization:** Logic properly separated into focused methods
- [ ] **Helper files:** Reusable logic extracted to shared utilities
- [ ] **Readability:** Code is clear and self-explanatory
- [ ] No magic numbers (extracted to constants)
- [ ] No duplicate logic (extracted to shared utilities)
- [ ] Complex types defined once in shared location
- [ ] Configuration values in constants
- [ ] Errors handled appropriately
- [ ] Edge cases addressed

### File Structure
- [ ] File structure matches existing pattern
- [ ] Regions in correct order
- [ ] Main override methods come FIRST
- [ ] Helper methods come AFTER overrides
- [ ] Spacing/indentation matches existing file
- [ ] Comment style matches existing file
- [ ] Method grouping matches existing pattern

### Scope
- [ ] Changes are minimal and focused
- [ ] No unrequested features added
- [ ] No unrelated refactoring
- [ ] Stayed within requested scope

### Reusability
- [ ] Existing code/patterns reused where possible
- [ ] Shared utilities created for repeated patterns
- [ ] Types/structs extracted if used in multiple places

### Solution Validation
- [ ] Logic is correct (solution actually solves the problem)
- [ ] Edge cases handled (null checks, empty collections, boundaries)
- [ ] Error handling appropriate
- [ ] No obvious performance issues introduced

---

## For Complex Changes (>100 lines or multi-file)

### Planning
- [ ] Created detailed implementation plan
- [ ] Listed all files to modify
- [ ] Listed all new files needed
- [ ] Identified existing code to reuse
- [ ] Identified shared utilities to create
- [ ] Got approval before implementing

---

## Quick Reference: File Structure Pattern

```
#region Private Variables
  - Private fields
  - Constants
#endregion

#region Main Methods
  - Create() override
#endregion

#region Render Methods
  - OnDrawingStepProcessed() ← FIRST
  - DrawImage() ← SECOND
  - DrawScatterImage() ← THIRD
  - DrawGrowthImage() ← FOURTH
#endregion

#region Helper Methods
  - Private helpers ← AFTER overrides
#endregion
```

---

END OF CHECKLIST
